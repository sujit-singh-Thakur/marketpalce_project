<div style="padding: 30px; font-family: Arial, sans-serif; background-color: #f8f9fa; min-height: 100vh;">
  <h1 style="text-align: center; margin-bottom: 40px;">All Users</h1>

  <table style="width: 100%; border-collapse: collapse; background-color: white; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-radius: 10px; overflow: hidden;">
    <thead style="background-color: #343a40; color: white;">
      <tr>
        <th style="padding: 15px; text-align: left;">Name</th>
        <th style="padding: 15px; text-align: left;">Email</th>
        <th style="padding: 15px; text-align: left;">Role</th>
        <th style="padding: 15px; text-align: left;">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |user| %>
        <tr style="border-bottom: 1px solid #dee2e6;">
          <td style="padding: 12px;"><%= user.name %></td>
          <td style="padding: 12px;"><%= user.email %></td>
          <td style="padding: 12px;"><%= user.type %></td>
          <td style="padding: 12px; display: flex; gap: 10px;">
            <% if user.type == 'Admin' %>
              <span style="color: gray;">(Protected)</span>
            <% else %>
              <%= link_to 'Edit', edit_contractor_path(user), style: "padding: 6px 12px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px;" %>
              <%= button_to 'Delete', admin_user_path(user), method: :delete,
                  data: { confirm: 'Are you sure you want to delete this user?' },
                  form: { style: 'display:inline' },
                  style: "padding: 6px 12px; background-color: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;" %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
